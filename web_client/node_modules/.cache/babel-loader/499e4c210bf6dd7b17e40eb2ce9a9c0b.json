{"ast":null,"code":"/**\r\n * Converts an image input of a user to a base64 string which represents the image.\r\n * @param file the file that was given as input by the user.\r\n * @return a promise to convert the image.\r\n */\nexport function convertToBase64Image(file, onLoadCallback) {\n  return new Promise(function (resolve, reject) {\n    let reader = new FileReader();\n\n    reader.onload = function () {\n      resolve(reader.result);\n    };\n\n    reader.onerror = reject;\n    reader.readAsDataURL(file);\n  });\n}\n/**\r\n * @return a formatted \"day.month.year, hour:minutes\" date string.\r\n */\n\nexport function getFormattedDateString(message) {\n  if (message != \"\") {\n    let messageDate = new Date(message.createdAt);\n    let day = messageDate.getDate();\n    let month = messageDate.getMonth() + 1;\n    let year = messageDate.getFullYear();\n    let hour = messageDate.getHours();\n    if (hour < 10) hour = \"0\" + hour;\n    let minutes = messageDate.getMinutes();\n    if (minutes < 10) minutes = \"0\" + minutes;\n    return day + '.' + month + '.' + year + \", \" + hour + ':' + minutes;\n  }\n}\n/**\r\n  * The function returns the conversations of the current log-in user, according\r\n * to the username (his id).\r\n * @param logInUsername is the username of the logged-in user.\r\n */\n\nexport function getUsersChats(logInUsername) {\n  for (var i = 0; i < Object.keys(users).length; i++) {\n    if (users[i].username.localeCompare(logInUsername) === 0) {\n      return users[i];\n    }\n  }\n}","map":{"version":3,"sources":["C:/Users/Eitan Koren/oop2/ap2/src/chatScreen/Utils.js"],"names":["convertToBase64Image","file","onLoadCallback","Promise","resolve","reject","reader","FileReader","onload","result","onerror","readAsDataURL","getFormattedDateString","message","messageDate","Date","createdAt","day","getDate","month","getMonth","year","getFullYear","hour","getHours","minutes","getMinutes","getUsersChats","logInUsername","i","Object","keys","users","length","username","localeCompare"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASA,oBAAT,CAA8BC,IAA9B,EAAoCC,cAApC,EAAoD;AACvD,SAAO,IAAIC,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC1C,QAAIC,MAAM,GAAG,IAAIC,UAAJ,EAAb;;AACAD,IAAAA,MAAM,CAACE,MAAP,GAAgB,YAAY;AACxBJ,MAAAA,OAAO,CAACE,MAAM,CAACG,MAAR,CAAP;AACH,KAFD;;AAGAH,IAAAA,MAAM,CAACI,OAAP,GAAiBL,MAAjB;AACAC,IAAAA,MAAM,CAACK,aAAP,CAAqBV,IAArB;AACH,GAPM,CAAP;AAQH;AAED;AACA;AACA;;AACA,OAAO,SAASW,sBAAT,CAAgCC,OAAhC,EAAyC;AAC5C,MAAIA,OAAO,IAAI,EAAf,EAAmB;AACf,QAAIC,WAAW,GAAG,IAAIC,IAAJ,CAASF,OAAO,CAACG,SAAjB,CAAlB;AACA,QAAIC,GAAG,GAAGH,WAAW,CAACI,OAAZ,EAAV;AACA,QAAIC,KAAK,GAAGL,WAAW,CAACM,QAAZ,KAAyB,CAArC;AACA,QAAIC,IAAI,GAAGP,WAAW,CAACQ,WAAZ,EAAX;AACA,QAAIC,IAAI,GAAGT,WAAW,CAACU,QAAZ,EAAX;AACA,QAAID,IAAI,GAAG,EAAX,EACIA,IAAI,GAAG,MAAMA,IAAb;AACJ,QAAIE,OAAO,GAAGX,WAAW,CAACY,UAAZ,EAAd;AACA,QAAID,OAAO,GAAG,EAAd,EACIA,OAAO,GAAG,MAAMA,OAAhB;AACJ,WAAOR,GAAG,GAAG,GAAN,GAAYE,KAAZ,GAAoB,GAApB,GAA0BE,IAA1B,GAAiC,IAAjC,GAAwCE,IAAxC,GAA+C,GAA/C,GAAqDE,OAA5D;AACH;AACJ;AAED;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASE,aAAT,CAAuBC,aAAvB,EAAsC;AACzC,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,MAAM,CAACC,IAAP,CAAYC,KAAZ,EAAmBC,MAAvC,EAA+CJ,CAAC,EAAhD,EAAoD;AAChD,QAAIG,KAAK,CAACH,CAAD,CAAL,CAASK,QAAT,CAAkBC,aAAlB,CAAgCP,aAAhC,MAAmD,CAAvD,EAA0D;AACtD,aAAOI,KAAK,CAACH,CAAD,CAAZ;AACH;AACJ;AACJ","sourcesContent":["/**\r\n * Converts an image input of a user to a base64 string which represents the image.\r\n * @param file the file that was given as input by the user.\r\n * @return a promise to convert the image.\r\n */\r\nexport function convertToBase64Image(file, onLoadCallback) {\r\n    return new Promise(function (resolve, reject) {\r\n        let reader = new FileReader();\r\n        reader.onload = function () {\r\n            resolve(reader.result);\r\n        };\r\n        reader.onerror = reject;\r\n        reader.readAsDataURL(file);\r\n    });\r\n}\r\n\r\n/**\r\n * @return a formatted \"day.month.year, hour:minutes\" date string.\r\n */\r\nexport function getFormattedDateString(message) {\r\n    if (message != \"\") {\r\n        let messageDate = new Date(message.createdAt);\r\n        let day = messageDate.getDate();\r\n        let month = messageDate.getMonth() + 1;\r\n        let year = messageDate.getFullYear();\r\n        let hour = messageDate.getHours();\r\n        if (hour < 10)\r\n            hour = \"0\" + hour;\r\n        let minutes = messageDate.getMinutes();\r\n        if (minutes < 10)\r\n            minutes = \"0\" + minutes;\r\n        return day + '.' + month + '.' + year + \", \" + hour + ':' + minutes;\r\n    }\r\n}\r\n\r\n/**\r\n  * The function returns the conversations of the current log-in user, according\r\n * to the username (his id).\r\n * @param logInUsername is the username of the logged-in user.\r\n */\r\nexport function getUsersChats(logInUsername) {\r\n    for (var i = 0; i < Object.keys(users).length; i++) {\r\n        if (users[i].username.localeCompare(logInUsername) === 0) {\r\n            return users[i];\r\n        }\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}