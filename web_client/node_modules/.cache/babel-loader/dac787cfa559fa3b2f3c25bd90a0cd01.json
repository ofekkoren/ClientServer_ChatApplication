{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Eitan Koren\\\\oop2\\\\ap2\\\\src\\\\signIn\\\\SignIn.js\";\nimport '../logIn/LogIn.css';\nimport users from '../db/UsersDataBase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction SignIn() {\n  const setValid = (element, message) => {\n    const inputParent = element.parentElement;\n    element.classList.add('is-valid');\n    element.classList.remove('is-invalid');\n    const validationMessgage = inputParent.getElementsByClassName(\"validation-helper\")[0];\n    validationMessgage.classList.add('valid-feedback');\n    validationMessgage.classList.remove('invalid-feedback');\n    validationMessgage.innerText = message;\n  };\n\n  const setInvalid = (element, message) => {\n    const inputParent = element.parentElement;\n    element.classList.add('is-invalid');\n    element.classList.remove('is-valid');\n    const validationMessgage = inputParent.getElementsByClassName(\"validation-helper\")[0];\n    validationMessgage.classList.add('invalid-feedback');\n    validationMessgage.classList.remove('valid-feedback');\n    validationMessgage.innerText = message;\n  };\n\n  const checkUserername = checkedUsername => {\n    for (let user of users) {\n      if (user.username === checkedUsername) return false;\n    }\n\n    return true;\n  };\n\n  const checkValid = () => {\n    const userName = document.getElementById('username');\n    const nickName = document.getElementById('nickname');\n    const picture = document.getElementById('picture');\n    const password = document.getElementById('Password');\n    const passwordRepeat = document.getElementById('validatePassword');\n    let isValid = true;\n\n    if (userName.value.trim() === \"\") {\n      setInvalid(userName, 'Username is required');\n      isValid = false;\n    } else if (!checkUserername(userName.value.trim())) {\n      setInvalid(userName, 'Such username already exists');\n      isValid = false;\n    } else setValid(userName, \"This username is available\");\n\n    if (nickName.value.trim() === \"\") {\n      setInvalid(nickName, 'Nickname is required');\n      isValid = false;\n    } else setValid(nickName, \"Nice Nickname!\");\n\n    setValid(picture, \"\");\n\n    if (password.value.length < 6) {\n      setInvalid(password, 'Password must contain at least 6 characters');\n      isValid = false;\n    } else if (password.value.search(/\\d/) == -1) {\n      setInvalid(password, 'Password must contain at least one number');\n      isValid = false;\n    } else if (password.value.search(/[a-zA-Z]/) == -1) {\n      setInvalid(password, 'Password must contain at least one letter');\n      isValid = false;\n    } else setValid(password, \"Good password\");\n\n    if (passwordRepeat.value !== password.value) {\n      setInvalid(passwordRepeat, \"Password doesn't match\");\n    } else setValid(passwordRepeat, \"\");\n\n    return isValid;\n  };\n\n  const handleSubmit = event => {\n    const regForm = event.currentTarget;\n    event.preventDefault();\n    event.stopPropagation();\n\n    if (checkValid()) {\n      const newUserName = document.getElementById(\"username\").value.trim();\n      const newNickName = document.getElementById('nickname').value;\n      const newPassword = document.getElementById('Password').value; //TODO fix picture\n\n      const newPicture = \"/images/userImages/default-image.jpg\";\n      users.push({\n        username: newUserName,\n        nickname: newNickName,\n        password: newPassword,\n        Image: newPicture\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"text-center sign-in-form needs-validation\",\n      noValidate: true,\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group row justify-content-center center-user\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"username\",\n          className: \"col-sm-2 col-form-label col-form-label-lg\",\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-sm-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"col form-control form-control-lg\",\n            id: \"username\",\n            placeholder: \"Enter username\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"validation-helper\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group row justify-content-center center-user\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"nickname\",\n          className: \"col-sm-2 col-form-label col-form-label-lg\",\n          children: \"Nickname\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-sm-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control form-control-lg\",\n            id: \"nickname\",\n            placeholder: \"Enter nickname\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"validation-helper\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group row justify-content-center center-user\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"picture\",\n          className: \"col-sm-2 col-form-label col-form-label-lg\",\n          children: \"picture\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control file-input-sm\",\n          type: \"file\",\n          id: \"picture\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"validation-helper\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group row justify-content-center center-user \",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"Password\",\n          className: \"col-sm-2 col-form-label col-form-label-lg\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-sm-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            className: \"form-control form-control-lg\",\n            id: \"Password\",\n            placeholder: \"Enter your password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"validation-helper\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group row justify-content-center center-user\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"validatePassword\",\n          className: \"col-sm-4 col-form-label col-form-label-lg\",\n          children: \"Repeat password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-sm-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            className: \"form-control form-control-lg\",\n            id: \"validatePassword\",\n            placeholder: \"Repeat your password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"validation-helper\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary btn-lg\",\n          children: \"Sign-in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text invalid-feedback\",\n        children: \"Please choose a username.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text\",\n        children: [\"already registered? sign in \", /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"#\",\n          className: \"text\",\n          children: \"here\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 49\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 9\n  }, this);\n}\n\n_c = SignIn;\nexport default SignIn;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignIn\");","map":{"version":3,"sources":["C:/Users/Eitan Koren/oop2/ap2/src/signIn/SignIn.js"],"names":["users","SignIn","setValid","element","message","inputParent","parentElement","classList","add","remove","validationMessgage","getElementsByClassName","innerText","setInvalid","checkUserername","checkedUsername","user","username","checkValid","userName","document","getElementById","nickName","picture","password","passwordRepeat","isValid","value","trim","length","search","handleSubmit","event","regForm","currentTarget","preventDefault","stopPropagation","newUserName","newNickName","newPassword","newPicture","push","nickname","Image"],"mappings":";AAAA,OAAO,oBAAP;AACA,OAAOA,KAAP,MAAkB,qBAAlB;;;AAGA,SAASC,MAAT,GAAkB;AAEd,QAAMC,QAAQ,GAAG,CAACC,OAAD,EAAUC,OAAV,KAAsB;AACnC,UAAMC,WAAW,GAAGF,OAAO,CAACG,aAA5B;AACAH,IAAAA,OAAO,CAACI,SAAR,CAAkBC,GAAlB,CAAsB,UAAtB;AACAL,IAAAA,OAAO,CAACI,SAAR,CAAkBE,MAAlB,CAAyB,YAAzB;AACA,UAAMC,kBAAkB,GAAGL,WAAW,CAACM,sBAAZ,CAAmC,mBAAnC,EAAwD,CAAxD,CAA3B;AACAD,IAAAA,kBAAkB,CAACH,SAAnB,CAA6BC,GAA7B,CAAiC,gBAAjC;AACAE,IAAAA,kBAAkB,CAACH,SAAnB,CAA6BE,MAA7B,CAAoC,kBAApC;AACAC,IAAAA,kBAAkB,CAACE,SAAnB,GAA+BR,OAA/B;AACH,GARD;;AAUA,QAAMS,UAAU,GAAG,CAACV,OAAD,EAAUC,OAAV,KAAsB;AACrC,UAAMC,WAAW,GAAGF,OAAO,CAACG,aAA5B;AACAH,IAAAA,OAAO,CAACI,SAAR,CAAkBC,GAAlB,CAAsB,YAAtB;AACAL,IAAAA,OAAO,CAACI,SAAR,CAAkBE,MAAlB,CAAyB,UAAzB;AACA,UAAMC,kBAAkB,GAAGL,WAAW,CAACM,sBAAZ,CAAmC,mBAAnC,EAAwD,CAAxD,CAA3B;AACAD,IAAAA,kBAAkB,CAACH,SAAnB,CAA6BC,GAA7B,CAAiC,kBAAjC;AACAE,IAAAA,kBAAkB,CAACH,SAAnB,CAA6BE,MAA7B,CAAoC,gBAApC;AACAC,IAAAA,kBAAkB,CAACE,SAAnB,GAA+BR,OAA/B;AAEH,GATD;;AAWA,QAAMU,eAAe,GAAIC,eAAD,IAAqB;AACzC,SAAK,IAAIC,IAAT,IAAiBhB,KAAjB,EAAwB;AACpB,UAAIgB,IAAI,CAACC,QAAL,KAAkBF,eAAtB,EACI,OAAO,KAAP;AACP;;AACD,WAAO,IAAP;AACH,GAND;;AAQA,QAAMG,UAAU,GAAG,MAAM;AACrB,UAAMC,QAAQ,GAAGC,QAAQ,CAACC,cAAT,CAAwB,UAAxB,CAAjB;AACA,UAAMC,QAAQ,GAAGF,QAAQ,CAACC,cAAT,CAAwB,UAAxB,CAAjB;AACA,UAAME,OAAO,GAAGH,QAAQ,CAACC,cAAT,CAAwB,SAAxB,CAAhB;AACA,UAAMG,QAAQ,GAAGJ,QAAQ,CAACC,cAAT,CAAwB,UAAxB,CAAjB;AACA,UAAMI,cAAc,GAAGL,QAAQ,CAACC,cAAT,CAAwB,kBAAxB,CAAvB;AACA,QAAIK,OAAO,GAAG,IAAd;;AACA,QAAIP,QAAQ,CAACQ,KAAT,CAAeC,IAAf,OAA0B,EAA9B,EAAkC;AAC9Bf,MAAAA,UAAU,CAACM,QAAD,EAAW,sBAAX,CAAV;AACAO,MAAAA,OAAO,GAAG,KAAV;AACH,KAHD,MAGO,IAAI,CAACZ,eAAe,CAACK,QAAQ,CAACQ,KAAT,CAAeC,IAAf,EAAD,CAApB,EAA6C;AAChDf,MAAAA,UAAU,CAACM,QAAD,EAAW,8BAAX,CAAV;AACAO,MAAAA,OAAO,GAAG,KAAV;AACH,KAHM,MAIHxB,QAAQ,CAACiB,QAAD,EAAW,4BAAX,CAAR;;AACJ,QAAIG,QAAQ,CAACK,KAAT,CAAeC,IAAf,OAA0B,EAA9B,EAAkC;AAC9Bf,MAAAA,UAAU,CAACS,QAAD,EAAW,sBAAX,CAAV;AACAI,MAAAA,OAAO,GAAG,KAAV;AACH,KAHD,MAIIxB,QAAQ,CAACoB,QAAD,EAAW,gBAAX,CAAR;;AAEJpB,IAAAA,QAAQ,CAACqB,OAAD,EAAU,EAAV,CAAR;;AACA,QAAIC,QAAQ,CAACG,KAAT,CAAeE,MAAf,GAAwB,CAA5B,EAA+B;AAC3BhB,MAAAA,UAAU,CAACW,QAAD,EAAW,6CAAX,CAAV;AACAE,MAAAA,OAAO,GAAG,KAAV;AACH,KAHD,MAGO,IAAIF,QAAQ,CAACG,KAAT,CAAeG,MAAf,CAAsB,IAAtB,KAA+B,CAAC,CAApC,EAAuC;AAC1CjB,MAAAA,UAAU,CAACW,QAAD,EAAW,2CAAX,CAAV;AACAE,MAAAA,OAAO,GAAG,KAAV;AACH,KAHM,MAGA,IAAIF,QAAQ,CAACG,KAAT,CAAeG,MAAf,CAAsB,UAAtB,KAAqC,CAAC,CAA1C,EAA6C;AAChDjB,MAAAA,UAAU,CAACW,QAAD,EAAW,2CAAX,CAAV;AACAE,MAAAA,OAAO,GAAG,KAAV;AACH,KAHM,MAIHxB,QAAQ,CAACsB,QAAD,EAAW,eAAX,CAAR;;AAEJ,QAAIC,cAAc,CAACE,KAAf,KAAyBH,QAAQ,CAACG,KAAtC,EAA6C;AACzCd,MAAAA,UAAU,CAACY,cAAD,EAAiB,wBAAjB,CAAV;AACH,KAFD,MAGIvB,QAAQ,CAACuB,cAAD,EAAiB,EAAjB,CAAR;;AACJ,WAAOC,OAAP;AACH,GAvCD;;AAyCA,QAAMK,YAAY,GAAIC,KAAD,IAAW;AAC5B,UAAMC,OAAO,GAAGD,KAAK,CAACE,aAAtB;AACAF,IAAAA,KAAK,CAACG,cAAN;AACAH,IAAAA,KAAK,CAACI,eAAN;;AACA,QAAIlB,UAAU,EAAd,EAAkB;AACd,YAAMmB,WAAW,GAAGjB,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCM,KAApC,CAA0CC,IAA1C,EAApB;AACA,YAAMU,WAAW,GAAGlB,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCM,KAAxD;AACA,YAAMY,WAAW,GAAGnB,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCM,KAAxD,CAHc,CAId;;AACA,YAAMa,UAAU,GAAG,sCAAnB;AAEAxC,MAAAA,KAAK,CAACyC,IAAN,CACI;AACIxB,QAAAA,QAAQ,EAAEoB,WADd;AAEIK,QAAAA,QAAQ,EAAEJ,WAFd;AAGId,QAAAA,QAAQ,EAAEe,WAHd;AAIII,QAAAA,KAAK,EAAEH;AAJX,OADJ;AAOH;AACJ,GAnBD;;AAoBA,sBACI;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA,2BACI;AAAM,MAAA,SAAS,EAAC,2CAAhB;AAA4D,MAAA,UAAU,MAAtE;AACM,MAAA,QAAQ,EAAET,YADhB;AAAA,8BAEI;AAAK,QAAA,SAAS,EAAC,mDAAf;AAAA,gCACI;AAAO,UAAA,OAAO,EAAC,UAAf;AACO,UAAA,SAAS,EAAC,2CADjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAGI;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA,kCACI;AAAO,YAAA,IAAI,EAAC,MAAZ;AAAmB,YAAA,SAAS,EAAC,kCAA7B;AAAgE,YAAA,EAAE,EAAC,UAAnE;AACO,YAAA,WAAW,EAAC,gBADnB;AACoC,YAAA,QAAQ;AAD5C;AAAA;AAAA;AAAA;AAAA,kBADJ,eAGI;AAAM,YAAA,SAAS,EAAC;AAAhB;AAAA;AAAA;AAAA;AAAA,kBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,eAYI;AAAK,QAAA,SAAS,EAAC,mDAAf;AAAA,gCACI;AAAO,UAAA,OAAO,EAAC,UAAf;AACO,UAAA,SAAS,EAAC,2CADjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAGI;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA,kCACI;AAAO,YAAA,IAAI,EAAC,MAAZ;AAAmB,YAAA,SAAS,EAAC,8BAA7B;AAA4D,YAAA,EAAE,EAAC,UAA/D;AACO,YAAA,WAAW,EAAC,gBADnB;AACoC,YAAA,QAAQ;AAD5C;AAAA;AAAA;AAAA;AAAA,kBADJ,eAGI;AAAM,YAAA,SAAS,EAAC;AAAhB;AAAA;AAAA;AAAA;AAAA,kBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAZJ,eAqBI;AAAK,QAAA,SAAS,EAAC,mDAAf;AAAA,gCACI;AAAO,UAAA,OAAO,EAAC,SAAf;AACO,UAAA,SAAS,EAAC,2CADjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAGI;AAAO,UAAA,SAAS,EAAC,4BAAjB;AAA8C,UAAA,IAAI,EAAC,MAAnD;AAA0D,UAAA,EAAE,EAAC;AAA7D;AAAA;AAAA;AAAA;AAAA,gBAHJ,eAII;AAAM,UAAA,SAAS,EAAC;AAAhB;AAAA;AAAA;AAAA;AAAA,gBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,cArBJ,eA2BI;AAAK,QAAA,SAAS,EAAC,oDAAf;AAAA,gCACI;AAAO,UAAA,OAAO,EAAC,UAAf;AAA0B,UAAA,SAAS,EAAC,2CAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA,kCACI;AAAO,YAAA,IAAI,EAAC,UAAZ;AAAuB,YAAA,SAAS,EAAC,8BAAjC;AAAgE,YAAA,EAAE,EAAC,UAAnE;AACO,YAAA,WAAW,EAAC;AADnB;AAAA;AAAA;AAAA;AAAA,kBADJ,eAGI;AAAM,YAAA,SAAS,EAAC;AAAhB;AAAA;AAAA;AAAA;AAAA,kBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cA3BJ,eAmCI;AAAK,QAAA,SAAS,EAAC,mDAAf;AAAA,gCACI;AAAO,UAAA,OAAO,EAAC,kBAAf;AAAkC,UAAA,SAAS,EAAC,2CAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAGI;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA,kCACI;AAAO,YAAA,IAAI,EAAC,UAAZ;AAAuB,YAAA,SAAS,EAAC,8BAAjC;AAAgE,YAAA,EAAE,EAAC,kBAAnE;AACO,YAAA,WAAW,EAAC;AADnB;AAAA;AAAA;AAAA;AAAA,kBADJ,eAGI;AAAM,YAAA,SAAS,EAAC;AAAhB;AAAA;AAAA;AAAA;AAAA,kBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAnCJ,eA8CI;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA,+BACI;AAAQ,UAAA,IAAI,EAAC,QAAb;AAAsB,UAAA,SAAS,EAAC,wBAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cA9CJ,eAkDI;AAAK,QAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAlDJ,eAsDI;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA,gEACgC;AAAG,UAAA,IAAI,EAAC,GAAR;AAAY,UAAA,SAAS,EAAC,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADhC;AAAA;AAAA;AAAA;AAAA;AAAA,cAtDJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAgEH;;KA5JQ9B,M;AA8JT,eAAeA,MAAf","sourcesContent":["import '../logIn/LogIn.css';\r\nimport users from '../db/UsersDataBase';\r\n\r\n\r\nfunction SignIn() {\r\n\r\n    const setValid = (element, message) => {\r\n        const inputParent = element.parentElement;\r\n        element.classList.add('is-valid');\r\n        element.classList.remove('is-invalid')\r\n        const validationMessgage = inputParent.getElementsByClassName(\"validation-helper\")[0];\r\n        validationMessgage.classList.add('valid-feedback');\r\n        validationMessgage.classList.remove('invalid-feedback')\r\n        validationMessgage.innerText = message;\r\n    };\r\n\r\n    const setInvalid = (element, message) => {\r\n        const inputParent = element.parentElement;\r\n        element.classList.add('is-invalid');\r\n        element.classList.remove('is-valid')\r\n        const validationMessgage = inputParent.getElementsByClassName(\"validation-helper\")[0];\r\n        validationMessgage.classList.add('invalid-feedback');\r\n        validationMessgage.classList.remove('valid-feedback')\r\n        validationMessgage.innerText = message;\r\n\r\n    }\r\n\r\n    const checkUserername = (checkedUsername) => {\r\n        for (let user of users) {\r\n            if (user.username === checkedUsername)\r\n                return false\r\n        }\r\n        return true;\r\n    }\r\n\r\n    const checkValid = () => {\r\n        const userName = document.getElementById('username');\r\n        const nickName = document.getElementById('nickname');\r\n        const picture = document.getElementById('picture');\r\n        const password = document.getElementById('Password');\r\n        const passwordRepeat = document.getElementById('validatePassword');\r\n        let isValid = true;\r\n        if (userName.value.trim() === \"\") {\r\n            setInvalid(userName, 'Username is required');\r\n            isValid = false;\r\n        } else if (!checkUserername(userName.value.trim())) {\r\n            setInvalid(userName, 'Such username already exists');\r\n            isValid = false;\r\n        } else\r\n            setValid(userName, \"This username is available\");\r\n        if (nickName.value.trim() === \"\") {\r\n            setInvalid(nickName, 'Nickname is required');\r\n            isValid = false;\r\n        } else\r\n            setValid(nickName, \"Nice Nickname!\")\r\n\r\n        setValid(picture, \"\");\r\n        if (password.value.length < 6) {\r\n            setInvalid(password, 'Password must contain at least 6 characters');\r\n            isValid = false;\r\n        } else if (password.value.search(/\\d/) == -1) {\r\n            setInvalid(password, 'Password must contain at least one number');\r\n            isValid = false;\r\n        } else if (password.value.search(/[a-zA-Z]/) == -1) {\r\n            setInvalid(password, 'Password must contain at least one letter');\r\n            isValid = false;\r\n        } else\r\n            setValid(password, \"Good password\");\r\n\r\n        if (passwordRepeat.value !== password.value) {\r\n            setInvalid(passwordRepeat, \"Password doesn't match\");\r\n        } else\r\n            setValid(passwordRepeat, \"\");\r\n        return isValid\r\n    }\r\n\r\n    const handleSubmit = (event) => {\r\n        const regForm = event.currentTarget;\r\n        event.preventDefault();\r\n        event.stopPropagation()\r\n        if (checkValid()) {\r\n            const newUserName = document.getElementById(\"username\").value.trim();\r\n            const newNickName = document.getElementById('nickname').value;\r\n            const newPassword = document.getElementById('Password').value;\r\n            //TODO fix picture\r\n            const newPicture = \"/images/userImages/default-image.jpg\";\r\n\r\n            users.push(\r\n                {\r\n                    username: newUserName,\r\n                    nickname: newNickName,\r\n                    password: newPassword,\r\n                    Image: newPicture\r\n                })\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"container\">\r\n            <form className=\"text-center sign-in-form needs-validation\" noValidate\r\n                  onSubmit={handleSubmit}>\r\n                <div className=\"form-group row justify-content-center center-user\">\r\n                    <label htmlFor=\"username\"\r\n                           className=\"col-sm-2 col-form-label col-form-label-lg\">Username</label>\r\n                    <div className=\"col-sm-5\">\r\n                        <input type=\"text\" className=\"col form-control form-control-lg\" id=\"username\"\r\n                               placeholder=\"Enter username\" required></input>\r\n                        <span className=\"validation-helper\"></span>\r\n                    </div>\r\n\r\n                </div>\r\n                <div className=\"form-group row justify-content-center center-user\">\r\n                    <label htmlFor=\"nickname\"\r\n                           className=\"col-sm-2 col-form-label col-form-label-lg\">Nickname</label>\r\n                    <div className=\"col-sm-5\">\r\n                        <input type=\"text\" className=\"form-control form-control-lg\" id=\"nickname\"\r\n                               placeholder=\"Enter nickname\" required></input>\r\n                        <span className=\"validation-helper\"></span>\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group row justify-content-center center-user\">\r\n                    <label htmlFor=\"picture\"\r\n                           className=\"col-sm-2 col-form-label col-form-label-lg\">picture</label>\r\n                    <input className=\"form-control file-input-sm\" type=\"file\" id=\"picture\"></input>\r\n                    <span className=\"validation-helper\"></span>\r\n                </div>\r\n                <div className=\"form-group row justify-content-center center-user \">\r\n                    <label htmlFor=\"Password\" className=\"col-sm-2 col-form-label col-form-label-lg\">Password</label>\r\n                    <div className=\"col-sm-5\">\r\n                        <input type=\"password\" className=\"form-control form-control-lg\" id=\"Password\"\r\n                               placeholder=\"Enter your password\"></input>\r\n                        <span className=\"validation-helper\"></span>\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group row justify-content-center center-user\">\r\n                    <label htmlFor=\"validatePassword\" className=\"col-sm-4 col-form-label col-form-label-lg\">Repeat\r\n                        password</label>\r\n                    <div className=\"col-sm-5\">\r\n                        <input type=\"password\" className=\"form-control form-control-lg\" id=\"validatePassword\"\r\n                               placeholder=\"Repeat your password\"></input>\r\n                        <span className=\"validation-helper\"></span>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n                <div className=\"mb-3\">\r\n                    <button type=\"submit\" className=\"btn btn-primary btn-lg\">Sign-in</button>\r\n                </div>\r\n\r\n                <div className=\"text invalid-feedback\">\r\n                    Please choose a username.\r\n                </div>\r\n\r\n                <div className=\"text\">\r\n                    already registered? sign in <a href='#' className=\"text\">here</a>\r\n                </div>\r\n\r\n            </form>\r\n        </div>\r\n    )\r\n        ;\r\n}\r\n\r\nexport default SignIn;\r\n"]},"metadata":{},"sourceType":"module"}