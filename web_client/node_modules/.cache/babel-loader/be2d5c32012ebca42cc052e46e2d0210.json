{"ast":null,"code":"import React from 'react';\nimport conversations from '../db/Conversations';\nimport users from '../db/UsersDataBase';\nimport LeftScreen from './LeftScreen';\nimport LeftChatItem from './leftChatItem/LeftChatItem';\nimport './AddNewChat.css';\n\nfunction AddNewChat(props) {\n  var isRegisteredUser = false; // console.log(props.currentListOfChats);\n  // If the user entered his contact's identifier username, do nothing. \n\n  if (props.logInUsername == props.newContact) {\n    return;\n  }\n\n  for (var i = 0; i < Object.keys(props.conversationsList).length; i++) {\n    // If the user already have a conversation with this contact, do nothing.\n    if (props.conversationsList[i].props.usernameInChat == props.newContact) {\n      return;\n    }\n  }\n\n  var user;\n\n  for (var i = 0; i < Object.keys(users).length; i++) {\n    if (props.logInUsername == users[i].username) {\n      user = users[i];\n    }\n  }\n\n  var newConversation;\n\n  for (var i = 0; i < Object.keys(users).length; i++) {\n    // If the user already have a conversation with this contact, do nothing.\n    if (props.newContact == users[i].username) {\n      isRegisteredUser = true; //add its username, nickname, image\n\n      newConversation = {\n        users: [{\n          username: user.username,\n          nickname: user.nickname,\n          image: user.image\n        }, {\n          username: users[i].username,\n          nickname: users[i].nickname,\n          image: users[i].image\n        }],\n        messages: [{\n          type: \"\",\n          content: \"\",\n          createdAt: \"\",\n          sender: \"\"\n        }]\n      };\n    }\n  } //If the user is not registered, do nothing.\n\n\n  if (!isRegisteredUser) {\n    var textBox = document.getElementById(floatingTextarea); // var invalidInputText = document.createElement(\"invalidInputText\")\n\n    return;\n  } else {\n    return newConversation; // return {newChat, newConversation};\n    // let chatsArr = [...props.relevantInfo, newChat]\n    // var conversation = { usernameInChat: newContact, type: type, lastMessage: lastMessage, time: time, image: image }\n    // <LeftChatItem usernameInChat={newContact} type={type} lastMessage={lastMessage} time={time} image={image} />\n  } // return (\n  //     // {conversationsList}\n  //     // console.log(\"hellllee\")\n  //     <div className=\"col-4 newtab\">\n  //         <div>hello</div>\n  //         {/* <div>\n  //     //         {conversationsList}\n  //     //     </div> */}\n  //     </div>\n  // );\n\n}\n\n_c = AddNewChat;\nexport default AddNewChat;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddNewChat\");","map":{"version":3,"sources":["C:/Users/Eitan Koren/oop2/ap2/src/chatScreen/AddNewChat.js"],"names":["React","conversations","users","LeftScreen","LeftChatItem","AddNewChat","props","isRegisteredUser","logInUsername","newContact","i","Object","keys","conversationsList","length","usernameInChat","user","username","newConversation","nickname","image","messages","type","content","createdAt","sender","textBox","document","getElementById","floatingTextarea"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,aAAP,MAA0B,qBAA1B;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,YAAP,MAAyB,6BAAzB;AACA,OAAO,kBAAP;;AAEA,SAASC,UAAT,CAAoBC,KAApB,EAA2B;AAEvB,MAAIC,gBAAgB,GAAG,KAAvB,CAFuB,CAGvB;AAGA;;AACA,MAAID,KAAK,CAACE,aAAN,IAAuBF,KAAK,CAACG,UAAjC,EAA6C;AACzC;AACH;;AAID,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,MAAM,CAACC,IAAP,CAAYN,KAAK,CAACO,iBAAlB,EAAqCC,MAAzD,EAAiEJ,CAAC,EAAlE,EAAsE;AAClE;AACA,QAAIJ,KAAK,CAACO,iBAAN,CAAwBH,CAAxB,EAA2BJ,KAA3B,CAAiCS,cAAjC,IAAmDT,KAAK,CAACG,UAA7D,EAAyE;AACrE;AACH;AACJ;;AAED,MAAIO,IAAJ;;AACA,OAAK,IAAIN,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,MAAM,CAACC,IAAP,CAAYV,KAAZ,EAAmBY,MAAvC,EAA+CJ,CAAC,EAAhD,EAAoD;AAChD,QAAIJ,KAAK,CAACE,aAAN,IAAuBN,KAAK,CAACQ,CAAD,CAAL,CAASO,QAApC,EAA8C;AAC1CD,MAAAA,IAAI,GAAGd,KAAK,CAACQ,CAAD,CAAZ;AACH;AACJ;;AAGD,MAAIQ,eAAJ;;AACA,OAAK,IAAIR,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,MAAM,CAACC,IAAP,CAAYV,KAAZ,EAAmBY,MAAvC,EAA+CJ,CAAC,EAAhD,EAAoD;AAChD;AACA,QAAIJ,KAAK,CAACG,UAAN,IAAoBP,KAAK,CAACQ,CAAD,CAAL,CAASO,QAAjC,EAA2C;AACvCV,MAAAA,gBAAgB,GAAG,IAAnB,CADuC,CAEvC;;AACAW,MAAAA,eAAe,GAAG;AACdhB,QAAAA,KAAK,EAAE,CAAC;AAAEe,UAAAA,QAAQ,EAAED,IAAI,CAACC,QAAjB;AAA2BE,UAAAA,QAAQ,EAAEH,IAAI,CAACG,QAA1C;AAAoDC,UAAAA,KAAK,EAAEJ,IAAI,CAACI;AAAhE,SAAD,EACP;AAAEH,UAAAA,QAAQ,EAAEf,KAAK,CAACQ,CAAD,CAAL,CAASO,QAArB;AAA+BE,UAAAA,QAAQ,EAAEjB,KAAK,CAACQ,CAAD,CAAL,CAASS,QAAlD;AAA4DC,UAAAA,KAAK,EAAElB,KAAK,CAACQ,CAAD,CAAL,CAASU;AAA5E,SADO,CADO;AAGdC,QAAAA,QAAQ,EAAE,CAAC;AAAEC,UAAAA,IAAI,EAAE,EAAR;AAAYC,UAAAA,OAAO,EAAE,EAArB;AAAyBC,UAAAA,SAAS,EAAE,EAApC;AAAuCC,UAAAA,MAAM,EAAE;AAA/C,SAAD;AAHI,OAAlB;AAKH;AACJ,GAxCsB,CA0CvB;;;AACA,MAAI,CAAClB,gBAAL,EAAuB;AACnB,QAAImB,OAAO,GAAGC,QAAQ,CAACC,cAAT,CAAwBC,gBAAxB,CAAd,CADmB,CAEnB;;AACA;AACH,GAJD,MAIO;AACH,WAAOX,eAAP,CADG,CAOH;AAEA;AAEA;AACA;AAEH,GA7DsB,CA8DvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACH;;KAxEQb,U;AA0ET,eAAeA,UAAf","sourcesContent":["import React from 'react';\r\nimport conversations from '../db/Conversations';\r\nimport users from '../db/UsersDataBase';\r\nimport LeftScreen from './LeftScreen';\r\nimport LeftChatItem from './leftChatItem/LeftChatItem';\r\nimport './AddNewChat.css';\r\n\r\nfunction AddNewChat(props) {\r\n\r\n    var isRegisteredUser = false;\r\n    // console.log(props.currentListOfChats);\r\n\r\n    \r\n    // If the user entered his contact's identifier username, do nothing. \r\n    if (props.logInUsername == props.newContact) {\r\n        return;\r\n    }\r\n\r\n    \r\n\r\n    for (var i = 0; i < Object.keys(props.conversationsList).length; i++) {\r\n        // If the user already have a conversation with this contact, do nothing.\r\n        if (props.conversationsList[i].props.usernameInChat == props.newContact) {\r\n            return;\r\n        }\r\n    }\r\n\r\n    var user;\r\n    for (var i = 0; i < Object.keys(users).length; i++) {\r\n        if (props.logInUsername == users[i].username) {\r\n            user = users[i];\r\n        }\r\n    }\r\n\r\n\r\n    var newConversation;\r\n    for (var i = 0; i < Object.keys(users).length; i++) {\r\n        // If the user already have a conversation with this contact, do nothing.\r\n        if (props.newContact == users[i].username) {\r\n            isRegisteredUser = true;\r\n            //add its username, nickname, image\r\n            newConversation = {\r\n                users: [{ username: user.username, nickname: user.nickname, image: user.image },\r\n                { username: users[i].username, nickname: users[i].nickname, image: users[i].image }],\r\n                messages: [{ type: \"\", content: \"\", createdAt: \"\",sender: \"\"}]\r\n            }\r\n        }\r\n    }\r\n\r\n    //If the user is not registered, do nothing.\r\n    if (!isRegisteredUser) {\r\n        var textBox = document.getElementById(floatingTextarea);\r\n        // var invalidInputText = document.createElement(\"invalidInputText\")\r\n        return;\r\n    } else {\r\n        return newConversation;\r\n\r\n\r\n\r\n        \r\n\r\n        // return {newChat, newConversation};\r\n\r\n        // let chatsArr = [...props.relevantInfo, newChat]\r\n\r\n        // var conversation = { usernameInChat: newContact, type: type, lastMessage: lastMessage, time: time, image: image }\r\n        // <LeftChatItem usernameInChat={newContact} type={type} lastMessage={lastMessage} time={time} image={image} />\r\n\r\n    }\r\n    // return (\r\n    //     // {conversationsList}\r\n    //     // console.log(\"hellllee\")\r\n    //     <div className=\"col-4 newtab\">\r\n    //         <div>hello</div>\r\n    //         {/* <div>\r\n    //     //         {conversationsList}\r\n    //     //     </div> */}\r\n    //     </div>\r\n    // );\r\n}\r\n\r\nexport default AddNewChat;"]},"metadata":{},"sourceType":"module"}